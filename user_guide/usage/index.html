
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A minimal cloud aimed at small and edge deployments">
      
      
      
        <link rel="canonical" href="https://shakenfist.com/user_guide/usage/">
      
      
        <link rel="prev" href="../../community/">
      
      
        <link rel="next" href="../authentication/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.2.7">
    
    
      
        <title>Usage - Shaken Fist</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.046329b4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#usage" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Shaken Fist" class="md-header__button md-logo" aria-label="Shaken Fist" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Shaken Fist
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Usage
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/shakenfist/shakenfist" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Shaken Fist" class="md-nav__button md-logo" aria-label="Shaken Fist" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Shaken Fist
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/shakenfist/shakenfist" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../manifesto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manifesto
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Components
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Components
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../components/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../components/kerbside/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kerbside
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Features
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Release notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Release notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../release_notes/v07-v08/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v0.7 to v0.8 (unreleased)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../community/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Community
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Usage
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#clients" class="md-nav__link">
    Clients
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#networking-fundamentals" class="md-nav__link">
    Networking fundamentals
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instances" class="md-nav__link">
    Instances
  </a>
  
    <nav class="md-nav" aria-label="Instances">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#config-drive" class="md-nav__link">
    Config drive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image-service-instance-flavors-or-types" class="md-nav__link">
    Image service, instance flavors or types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-reliability-features" class="md-nav__link">
    Instance reliability features
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting-your-first-instance" class="md-nav__link">
    Starting your first instance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disk-specifications" class="md-nav__link">
    Disk specifications
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-specifications" class="md-nav__link">
    Network specifications
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#missing-documentation" class="md-nav__link">
    Missing documentation
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../authentication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authentication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ansible/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ansible module
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../artifacts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Artifacts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../affinity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Affinity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../consoles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Consoles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Events
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../objects/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Objects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Object Metadata
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1" >
        
          <label class="md-nav__link" for="__nav_8_1" id="__nav_8_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1">
            <span class="md-nav__icon md-icon"></span>
            API reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/api_reference/admin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Admin (/admin/)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/api_reference/agentoperations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agent Operations (/agentoperations/)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/api_reference/artifacts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Artifacts (/artifacts/)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/api_reference/authentication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authentication (/auth/)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/api_reference/blob_checksums/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blob Checksums (/blob_checksums/)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/api_reference/blobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blobs (/blobs/)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/api_reference/instances/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instances (/instances/)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/api_reference/label/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Label (/label/)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/api_reference/networks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Networks (/networks/)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/api_reference/interfaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network Interfaces (/interfaces/)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/api_reference/nodes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nodes (/nodes/)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/api_reference/upload/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upload (/upload/)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/authentication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authentication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/ci_api_coverage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CI API coverage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/release_process/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release process
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/standards/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Standards
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/state_machine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    State machine
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/updating_docs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Updating docs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workflow
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Operator Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Operator Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operator_guide/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operator_guide/artifacts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Artifacts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operator_guide/authentication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authentication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operator_guide/locks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Locks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operator_guide/networking/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Networking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operator_guide/power_states/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Power States
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operator_guide/python_versions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Versions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operator_guide/upgrades/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrades
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#clients" class="md-nav__link">
    Clients
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#networking-fundamentals" class="md-nav__link">
    Networking fundamentals
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instances" class="md-nav__link">
    Instances
  </a>
  
    <nav class="md-nav" aria-label="Instances">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#config-drive" class="md-nav__link">
    Config drive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image-service-instance-flavors-or-types" class="md-nav__link">
    Image service, instance flavors or types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-reliability-features" class="md-nav__link">
    Instance reliability features
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting-your-first-instance" class="md-nav__link">
    Starting your first instance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disk-specifications" class="md-nav__link">
    Disk specifications
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-specifications" class="md-nav__link">
    Network specifications
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#missing-documentation" class="md-nav__link">
    Missing documentation
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="usage">Usage</h1>
<p>This page attempts to provide a summary of the minimum amount of information you
need to get started as a Shaken Fist user. The other pages in this section of
the documentation provide deeper information about specific sub areas.</p>
<h2 id="clients">Clients</h2>
<p>The primary Shaken Fist client is packaged and released in the <code>shakenfist-client</code>
package from pypi. This client is released at the same time as any major release
of Shaken Fist, but there is no guarantee that minor releases are done in sync.
However, the Shaken Fist client knows how to probe the server for capabilities,
so it is recommended that you keep the client as up to date as possible.</p>
<p>The client is installed on the primary node as part of the operation of the
Ansible based installer. Authentication details are also provided on the primary
node. That means that you can just get started on the primary node without any
further configuration.</p>
<p>The <code>shakenfist-client</code> package contains two clients at the time of writing:
a REST API client that can be imported at <code>shakenfist_client.apiclient</code>; and a
command line client implemented with this REST API client. The command line
client is exposed as <code>sf-client</code> once the python package is installed.</p>
<p>The command line client can produce output in three formats: the standard
"pretty" format, a mostly-csv format called "simple" (which is aimed at being
easy to parse in shell scripts), and JSON. You select the output format with a
flag like this:</p>
<div class="highlight"><pre><span></span><code>sf-client<span class="w"> </span>--simple<span class="w"> </span>instance<span class="w"> </span>list
</code></pre></div>
<p>The default formatter is the "pretty" formatter, so you never need to specify
that on the command line.</p>
<details class="tip" open="open">
<summary>Command line client output options</summary>
<ul>
<li><code>--pretty</code> (also the default): ASCII art tables where appropriate human
  readable output.</li>
<li><code>--simple</code>: mostly comma delimited output intended to be easier to parse
  in a shell script.</li>
<li><code>--json</code>: JSON format output intended to be parsed by other programs. In
  general this output is also exactly what the REST API returns, which can
  be handy when developing with that API.</li>
</ul>
</details>
<p>You can explore what the command line client is capable of by asking it for help:</p>
<div class="highlight"><pre><span></span><code>$ sf-client --help
Usage: sf-client [OPTIONS] COMMAND [ARGS]...

Options:
  --pretty
  --simple
  --json
  --verbose / --no-verbose
  --namespace TEXT
  --key TEXT
  --apiurl TEXT
  --async-strategy, --async [continue|pause|block]
  --help                          Show this message and exit.

Commands:
  admin      Admin commands
  ansible    Ansible commands, intended to be used as modules
  artifact   Artifact commands
  backup     Backup commands
  blob       Blob commands
  instance   Instance commands
  interface  Interface commands
  k3s        k3s orchestration commands
  label      Label commands
  namespace  Namespace commands
  network    Network commands
  node       Node commands
  version    Output the version of the client
</code></pre></div>
<p>This help is present at several levels, such as:</p>
<div class="highlight"><pre><span></span><code>$ sf-client instance --help
Usage: sf-client instance [OPTIONS] COMMAND [ARGS]...

  Instance commands

Options:
  --help  Show this message and exit.

Commands:
  add-interface    Add a network interface to an instance
  await            Await an agent ready from the specified
                   instance
  consoledata      Get console data for an instance
  consoledelete    Clear the console log for this instance
  create           Create an instance.
  delete           Delete an instance
  delete-all       Delete ALL instances
  delete-metadata  Delete a metadata item
  download         Download a file from an instance
  events           Display events for an instance
  execute          Execute a command on an instance
  list             List instances
  pause            Pause an instance
  poweroff         Power off an instance
  poweron          Power on an instance
  reboot           Reboot instance
  screenshot       Download a screenshot of the console of
                   an instance
  set-metadata     Set a metadata item
  show             Show an instance
  snapshot         Snapshot instance
  unpause          Unpause an instance
  upload           Upload a file to an instance
  vdiconsole       Launch a VDI console for the instance
  vdiconsolefile   Download a .vv file for the VDI console
</code></pre></div>
<h2 id="networking-fundamentals">Networking fundamentals</h2>
<p>Virtual networks / micro segmentation is provided by VXLAN meshes between the
instances. Hypervisors are joined to a given mesh when they start their first
instance on that network. DHCP services are optionally offered from a "network
services" node, which is just a hypervisor node with some extra dnsmasq process.
NAT is also optionally available from the network services node. If your network
provides NAT, it consumes an IP address from the floating IP pool to do so, and
performs NAT in a network namespace on the network node.</p>
<p>You create a network on the command line like this:</p>
<div class="highlight"><pre><span></span><code>sf-client<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>mynet<span class="w"> </span><span class="m">192</span>.168.1.0/24
</code></pre></div>
<p>Where "192.168.1.0/24" is the CIDR network address range to use, and "mynet" is
the name of the network. You'll get back output describing the network, including
the UUID of the network, which is used in later calls.</p>
<h2 id="instances">Instances</h2>
<h3 id="config-drive">Config drive</h3>
<p>By default every instance gets a config drive, this config drive is always
presented as a ISO9660 filesystem on a virtual hard drive. You can however
disable the config drive if you want.</p>
<details class="tip" open="open">
<summary>Supported config drive types</summary>
<ul>
<li><code>openstack</code> (also the default): an OpenStack style configuration drive.</li>
<li><code>none</code>: no config drive at all.</li>
</ul>
</details>
<p>If a config drive is configured, it is always the second virtual disk attached
to the VM (vdb on Linux if you're using virtio disks). There is no metadata
server.</p>
<h3 id="image-service-instance-flavors-or-types">Image service, instance flavors or types</h3>
<p>Additionally, there is no image service -- you specify the image to use by
providing a URL. That URL is cached, but can be to any HTTP server anywhere.
Even better, there are no flavors. You specify what resources your instance
should have at boot time and that's what you get. No more being forced into a
t-shirt sized description of your needs.</p>
<h3 id="instance-reliability-features">Instance reliability features</h3>
<p>Instances are always cattle. Any feature that made instances feel like pets has
not been implemented. That said, you can snapshot an instance. Snapshots aren't
reliable backups, just like they're not really reliable backups on OpenStack.
There is a small but real chance that a snapshot will contain an inconsistent
state if you're snapshotting a busy database or something like that. One minor
difference from OpenStack is that when you snapshot your instance you can
snapshot all of the virtual disks (except the config drive) if you want to.
Snapshots are delivered as artifacts much like other objects, and can be
downloaded via the REST API and command line client.</p>
<h3 id="starting-your-first-instance">Starting your first instance</h3>
<p>You start an instance like this:</p>
<div class="highlight"><pre><span></span><code>sf-client<span class="w"> </span>instance<span class="w"> </span>create<span class="w"> </span>myinstance<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2048</span><span class="w"> </span>-d<span class="w"> </span><span class="m">8</span>@cirros<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-n<span class="w"> </span>netuuid
</code></pre></div>
<p>Where myinstance is the name of the instance, in this example it has 1 vCPU,
2048MB of RAM, a single 8gb disk (more on this soon) and a single network
interface on the network with the UUID "netuuid".</p>
<h3 id="disk-specifications">Disk specifications</h3>
<p>"8<a class="magiclink magiclink-github magiclink-mention" href="https://github.com/cirros" title="GitHub User: cirros">@cirros</a>" is a "short disk specification". These are in the form <code>size@image</code>,
where the <code>@image</code> is optional. You can specify more than one disk, so this is
valid:</p>
<div class="highlight"><pre><span></span><code>sf-client<span class="w"> </span>instance<span class="w"> </span>create<span class="w"> </span>myinstance<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2048</span><span class="w"> </span>-d<span class="w"> </span><span class="m">8</span>@cirros<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-d<span class="w"> </span><span class="m">8</span><span class="w"> </span>-d<span class="w"> </span><span class="m">8</span><span class="w"> </span>-n<span class="w"> </span>netuuid
</code></pre></div>
<p>In this case we have three disks, all of 8gb. The boot disk is imaged with
cirros. The "cirros" here is shorthand. By default, you specify a URL for the
image you want, so to boot a cirros instance you might use
<a href="http://download.cirros-cloud.net/0.5.1/cirros-0.5.1-x86_64-disk.img">http://download.cirros-cloud.net/0.5.1/cirros-0.5.1-x86_64-disk.img</a> -- that gets
old though, so for common cloud images there is a shorthand format, where
Shaken Fist knows how to generate the download URL from a short description.
In this case "cirros" means "the latest release of cirros". You can also specify
a version like this:</p>
<div class="highlight"><pre><span></span><code>sf-client<span class="w"> </span>instance<span class="w"> </span>create<span class="w"> </span>myinstance<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2048</span><span class="w"> </span>-d<span class="w"> </span><span class="m">8</span>@cirros:0.5.1<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-d<span class="w"> </span><span class="m">8</span><span class="w"> </span>-d<span class="w"> </span><span class="m">8</span><span class="w"> </span>-n<span class="w"> </span>netuuid
</code></pre></div>
<p>While Cirros is special cased, there are a variety of other images you can use
this shorthand format with. The list changes as different OSes are added, and
now unsupported options are removed. The current list is those listed at
<a href="https://images.shakenfist.com">https://images.shakenfist.com</a>, which is where the images are fetched from. These
images (apart from Cirros) also include the Shaken Fist in-guest agent
pre-installed for your convenience.</p>
<p>You can also use a "detailed disk specification", which is what fancy people use.
Its syntax is similar:</p>
<div class="highlight"><pre><span></span><code>sf-client<span class="w"> </span>instance<span class="w"> </span>create<span class="w"> </span>myinstance<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2048</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">size</span><span class="o">=</span><span class="m">8</span>,base<span class="o">=</span>cirros,bus<span class="o">=</span>ide,type<span class="o">=</span>cdrom<span class="w"> </span>-d<span class="w"> </span><span class="m">8</span><span class="w"> </span>-d<span class="w"> </span><span class="m">8</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-n<span class="w"> </span>netuuid
</code></pre></div>
<p>The specification is composed of a series of key-value pairs. Valid keys are:
size; base; bus; and type. If you don't specify a key, you'll get a reasonable
default. Here's how the keys work:</p>
<ul>
<li><em>size</em> as per the shorthand notation.</li>
<li><em>base</em> as per the shorthand notation, including version specification.</li>
<li><em>bus</em> is any valid disk bus for libvirt, which is virtio, ide, scsi, usb. Use
  virtio unless you have a really good reason otherwise -- the performance of the
  others are terrible. An example of a good reason is to install virtio drivers
  into legacy operating systems that lack them natively.</li>
<li><em>type</em> can be one of disk or cdrom. Note that cdroms are excluded from snapshots.</li>
</ul>
<h3 id="network-specifications">Network specifications</h3>
<p>Similarly, networks have a "short network specification", where you can specify
the UUID or name of a network, but also optionally the IP address to use for the
interface. You can also have more than one network interface, so this is valid:</p>
<div class="highlight"><pre><span></span><code>sf-client<span class="w"> </span>instance<span class="w"> </span>create<span class="w"> </span>myinstance<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2048</span><span class="w"> </span>-d<span class="w"> </span><span class="m">8</span>@cirros<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-n<span class="w"> </span>netuuid1<span class="w"> </span>-n<span class="w"> </span>netuuid2@10.0.0.4
</code></pre></div>
<p>Where netuuid1 and netuuid2 are both UUIDs of networks. You can also use the
name of a network, so long as that name is unique in the namespace you are
operating in. So for example, this is valid too:</p>
<div class="highlight"><pre><span></span><code>sf-client<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>testnet<span class="w"> </span><span class="m">10</span>.0.0.0/24
sf-client<span class="w"> </span>instance<span class="w"> </span>create<span class="w"> </span>testinstance<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">2048</span><span class="w"> </span>-d<span class="w"> </span><span class="m">20</span>@debian:12<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-n<span class="w"> </span>testnet
</code></pre></div>
<p>Again, you can still assign a network address while using the network name, such
as <code>testnet@10.0.0.42</code>.</p>
<p>There is also a shorthand "short network specification" which implies immediately
floating the interface. A "floating" interface is a routable IP address which is
packet mangled to arrive at your virtual network address, much like in
OpenStack. The details are the same as <code>-n</code>, except the flag is <code>-f</code>:</p>
<div class="highlight"><pre><span></span><code>sf-client<span class="w"> </span>instance<span class="w"> </span>create<span class="w"> </span>myinstance<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2048</span><span class="w"> </span>-d<span class="w"> </span><span class="m">8</span>@cirros<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-f<span class="w"> </span>netuuid1
</code></pre></div>
<p>There is a "detailed network specification" as well at <code>-N</code>, which is composed
of the following keys:</p>
<ul>
<li><em>network_uuid</em> is the UUID of the network to use.</li>
<li><em>address</em> is the IPv4 network address to use, if free. If its not free the
  instance will fail to start. If you don't want an address on this interface,
  use "none" as the value for address. If you do not specify any value for
  address, an address on the network will be assigned to you.</li>
<li><em>macaddress</em> the mac address to use for the interface.</li>
<li><em>model</em> is the model of the network device, with options being ne2k_isa,
  i82551, i82557b, i82559er, ne2k_pci, pcnet, rtl8139, e1000, and virtio. The
  default model is virtio.</li>
<li><em>float</em> if true indicates to immediately float the interface once the instance
  is created.</li>
</ul>
<p>So for example, this is valid:</p>
<div class="highlight"><pre><span></span><code>sf-client<span class="w"> </span>instance<span class="w"> </span>create<span class="w"> </span>testinstance<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">2048</span><span class="w"> </span>-d<span class="w"> </span><span class="m">20</span>@debian:12<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-N<span class="w"> </span><span class="nv">network_uuid</span><span class="o">=</span>testnet,address<span class="o">=</span><span class="m">10</span>.0.0.99,float<span class="o">=</span><span class="nb">true</span>
</code></pre></div>
<h2 id="missing-documentation">Missing documentation</h2>
<p>I really should document these as well:</p>
<ul>
<li>nodes</li>
<li>networks: delete, list</li>
<li>instance: show, delete, list, ssh keys, user data, reboots (hard and soft), poweroff, poweron, pause, unpause, snapshot</li>
<li>images: pre-caching</li>
<li>metadata</li>
<li>authentication</li>
</ul>
<p>Maybe one day I will.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.dff1b7c8.min.js"></script>
      
    
  </body>
</html>